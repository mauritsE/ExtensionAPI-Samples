# IWebView.PostMessage method

Posts a message to the top-level document in the web view. It can be used as a two-way communication channel with the web view in combination with [`MessageReceived`](./MessageReceived.md).

```csharp
public void PostMessage(string message, object? data = null)
```

| parameter | description |
| --- | --- |
| message | The message to be sent to the top level document in this web view. |
| data | An optional object with additional data to be sent along with the message. |

## Remarks

Messages will be queued in the web view until the web document indicates it is ready to receive messages. The web document can receive messages by registering a handler and then posting a message `MessageListenerRegistered`. It is recommended to do this in the `body.onload` event of the web page. The following code example shows how the above could be implemented in an HTML page:

```csharp
...
<script>
  // Called from body.onload event.
  function registerMessageListener() {
    // Register message handler.
    window.chrome.webview.addEventListener("message", handleMessage);
    // Indicate that we're ready to receive messages.
    window.chrome.webview.postMessage({ message: "MessageListenerRegistered" });
  }

  function handleMessage(event) {
    const { message, data } = event.data;
    alert(`Received message '${message}' with data: ${JSON.stringify(data, null, 2)}`);
  }
</script>
...
<body onload="registerMessageListener()">
...
```

## See Also

* interface [IWebView](../IWebView.md)
* namespace [Mendix.StudioPro.ExtensionsAPI.UI.WebView](../../Mendix.StudioPro.ExtensionsAPI.md)

<!-- DO NOT EDIT: generated by xmldocmd for Mendix.StudioPro.ExtensionsAPI.dll -->
